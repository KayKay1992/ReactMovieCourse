Adding error handling and loading effect to the trending movie section.

To implement a loading effect and proper error handling for the trending movies section, we need to follow these steps:

Loading State for Trending Movies: We'll use the isLoading state to show a loading spinner while fetching the trending movies.

Error Handling for Trending Movies: We'll add an errorMessage state to handle and display any errors that occur while fetching the trending movies.

Conditional Rendering: We'll conditionally render either the loading spinner, the error message, or the list of trending movies.

Key Changes:
Loading State for Trending Movies:

I added a new state isTrendingLoading that controls whether the trending movies section is loading or not.

When isTrendingLoading is true, the Spinner component is shown.

Error Handling for Trending Movies:

I added an error state trendingError to handle and display errors related to fetching trending movies.

If trendingError has a value, it will display the error message on the UI.

Fetching Trending Movies:

The fetchTrendingMovies function has been updated to handle loading and errors while fetching trending movies. It now uses setIsTrendingLoading and setTrendingError to handle the state changes.

Conditional Rendering:

For both trending movies and all movies sections, I added conditional rendering based on the loading state (isTrendingLoading, isLoading) and error messages (trendingError, errorMessage).

With these changes, your app will display a loading spinner while fetching the data and show error messages when something goes wrong. It will also show the list of trending movies once they are successfully fetched.